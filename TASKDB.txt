CREATE TABLE ISSUESLISTS
(
    ID SERIAL PRIMARY KEY,
    NAME VARCHAR(100)

);

CREATE TABLE ISSUES
(
    id SERIAL PRIMARY KEY,
    ISSUESLIST_ID BIGINT UNSIGNED NOT NULL,
    SUMMARY VARCHAR(100),
    DESCRIPTIONTASK VARCHAR(100),
    USER_ID_ASSIGNEDTO BIGINT UNSIGNED NOT NULL,
    FOREIGN KEY (ISSUESLIST_ID) REFERENCES ISSUESLISTS(ID),
    FOREIGN KEYR(USE_ID_ASSIGNEDTO) REFERENCES USERS(ID)
);

INSERT INTO ISSUESLISTS (NAME) VALUES ("ToDo");

INSERT INTO ISSUESLISTS (NAME) VALUES ("In progress");

INSERT INTO ISSUESLISTS (NAME) VALUES ("Done");

INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (1,"make bed","make bed",1);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (1,"wash dishes","wash dishes",2);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (1,"clean up kitchen","clean up kitchen",3);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (1,"clean up bathroom","clean up bathroom",4);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (1,"clean up livingroom","clean up livingroom",5);

INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (2,"make bed","making bed",1);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (2,"wash dishes","washing dishes",2);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (2,"clean up kitchen","cleaning kitchen",3);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (2,"clean up bathroom","cleaning bathroom",4);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (2,"clean up livingroom","cleaning livingroom",5);

INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (3,"make bed","done",1);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (3,"wash dishes","done",2);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (3,"clean up kitchen","done",3);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (3,"clean up bathroom","done",4);
INSERT INTO ISSUES(ISSUESLIST_ID,SUMMARY,DESCRIPTIONTASK,USER_ID_ASSIGNEDTO)
    VALUES (3,"clean up livingroom","done",5);
SELECT * FROM ISSUES;



SELECT * FROM issues JOIN issueslists i on i.ID = issues.ISSUESLIST_ID;
SELECT * FROM issues join users u on u.ID = issues.USER_ID_ASSIGNEDTO;
SELECT U.FIRSTNAME, U.LASTNAME, COUNT(*) AS TASKS FROM users U JOIN issues i on U.ID = i.USER_ID_ASSIGNEDTO GROUP BY U.FIRSTNAME, U.LASTNAME;


